{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\WebstormProjects\\\\appSite\\\\client\\\\src\\\\pages\\\\Help.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Button, Container, Form, Modal, Spinner } from \"react-bootstrap\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Context } from \"../index\";\nimport { getHelp } from \"../http/helpApi\";\nimport { createHelp } from \"../http/contactApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Help = () => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const {\n    help\n  } = useContext(Context);\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useContext(Context);\n  const [loading, setLoading] = useState(true);\n  const [text, setText] = useState('');\n  const [textValidation, setTextValidation] = useState('');\n\n  const onChangeText = text => {\n    setText(text);\n    setTextValidation('');\n  };\n\n  const validation = () => {\n    if (text == '') {\n      setTextValidation('Поле не может быть пустым');\n      return false;\n    }\n\n    return true;\n  };\n\n  useEffect(() => {\n    getHelp().then(data => help.setStore(data)).finally(() => setLoading(false));\n  }, []);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => {\n    if (user.isAuth) {\n      setShow(true);\n    }\n  };\n\n  const history = useHistory();\n\n  const SendComment = () => {\n    console.log(validation());\n\n    if (validation() && user.isAuth) {\n      createHelp(text, user.userReq).then(handleShow);\n      setText('');\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"grow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      backdrop: \"static\",\n      keyboard: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0432\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"exampleForm.ControlTextarea1\",\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u043E, \\u043E\\u0442\\u0432\\u0435\\u0442 \\u043F\\u0440\\u0438\\u0434\\u0435\\u0442 \\u0432\\u0430\\u043C \\u043D\\u0430 email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleClose,\n            style: {\n              backgroundColor: '#04ddb2',\n              border: \"none\"\n            },\n            children: \"\\u041E\\u043A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: '#333333',\n        fontWeight: \"bold\",\n        fontSize: 60,\n        margin: 50,\n        paddingLeft: 150,\n        paddingRight: 150,\n        textAlign: \"center\",\n        marginTop: 100\n      },\n      children: \"\\u041F\\u043E\\u043C\\u043E\\u0449\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"d-flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"20%\",\n          marginLeft: 50,\n          marginTop: 50\n        },\n        children: help.store.map(helpItem => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: id == helpItem.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => history.push(\"/help/\" + helpItem.id),\n            className: \"p-2 mb-3\",\n            style: {\n              backgroundColor: \"#3be0b5\",\n              fontWeight: \"bold\",\n              color: \"white\",\n              borderRadius: 15,\n              cursor: \"pointer\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                paddingLeft: 15,\n                marginRight: 15,\n                whiteSpace: \"nowrap\"\n              },\n              children: helpItem.attributes.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 34\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => history.push(\"/help/\" + helpItem.id),\n            className: \"p-2 mb-3\",\n            style: {\n              fontWeight: \"bold\",\n              borderRadius: 15,\n              cursor: \"pointer\",\n              width: 1000\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                paddingLeft: 15,\n                whiteSpace: \"nowrap\"\n              },\n              children: helpItem.attributes.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 34\n          }, this)\n        }, helpItem.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 26\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 70,\n          marginLeft: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: help.store[id - 1].attributes.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 22\n        }, this), help.store[id - 1].attributes.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 14\n    }, this), user.isAuth ? /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: '#333333',\n          fontWeight: \"bold\",\n          fontSize: 60,\n          margin: 50,\n          paddingLeft: 150,\n          paddingRight: 150,\n          textAlign: \"center\",\n          marginTop: 100\n        },\n        children: \"\\u041E\\u0431\\u0440\\u0430\\u0442\\u043D\\u0430\\u044F \\u0441\\u0432\\u044F\\u0437\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"exampleForm.ControlTextarea1\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"textarea\",\n          onChange: e => onChangeText(e.target.value),\n          rows: 8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), textValidation == '' ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            visibility: \"visible\",\n            color: \"red\"\n          },\n          children: textValidation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          style: {\n            borderRadius: 30,\n            backgroundColor: '#04ddb2',\n            border: \"none\",\n            fontWeight: \"bold\",\n            fontSize: 20\n          },\n          className: \"mt-5 p-3\",\n          onClick: SendComment,\n          children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Help, \"LdGw4CY79xOdPNyZH8LCGHVbYDg=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Help;\nexport default Help;\n\nvar _c;\n\n$RefreshReg$(_c, \"Help\");","map":{"version":3,"sources":["C:/Users/admin/WebstormProjects/appSite/client/src/pages/Help.js"],"names":["React","useContext","useEffect","useState","Button","Container","Form","Modal","Spinner","useHistory","useParams","Context","getHelp","createHelp","Help","show","setShow","help","id","user","loading","setLoading","text","setText","textValidation","setTextValidation","onChangeText","validation","then","data","setStore","finally","handleClose","handleShow","isAuth","history","SendComment","console","log","userReq","backgroundColor","border","color","fontWeight","fontSize","margin","paddingLeft","paddingRight","textAlign","marginTop","width","marginLeft","store","map","helpItem","push","borderRadius","cursor","marginRight","whiteSpace","attributes","title","description","e","target","value","visibility"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {Button, Container, Form, Modal, Spinner} from \"react-bootstrap\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {Context} from \"../index\";\r\nimport {getHelp} from \"../http/helpApi\";\r\nimport {createHelp} from \"../http/contactApi\";\r\n\r\nconst Help = () => {\r\n    const [show, setShow] = useState(false);\r\n    const {help} = useContext(Context)\r\n    const {id} = useParams();\r\n    const {user} = useContext(Context)\r\n    const [loading,setLoading] = useState(true)\r\n\r\n    const [text, setText] = useState('')\r\n    const [textValidation, setTextValidation] = useState('')\r\n\r\n\r\n    const onChangeText=(text)=>{\r\n        setText(text)\r\n        setTextValidation('')\r\n    }\r\n\r\n    const validation=()=>{\r\n        if(text=='') {\r\n            setTextValidation('Поле не может быть пустым')\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getHelp().then(data=>help.setStore(data)).finally(()=>setLoading(false))\r\n    },[])\r\n\r\n\r\n    const handleClose = () => setShow(false);\r\n\r\n    const handleShow =()=>\r\n    {\r\n        if(user.isAuth) {\r\n            setShow(true)\r\n        }\r\n\r\n    }\r\n\r\n    const history = useHistory()\r\n\r\n\r\n    const SendComment = () =>{\r\n        console.log(validation())\r\n        if (validation()&&user.isAuth) {\r\n            createHelp(text, user.userReq).then(handleShow)\r\n            setText('')\r\n        }\r\n\r\n    }\r\n\r\n    if(loading){\r\n        return <Spinner animation=\"grow\"/>\r\n    }\r\n    return (\r\n        <div className={\"d-flex flex-column\"}>\r\n\r\n            <Modal\r\n                show={show}\r\n                onHide={handleClose}\r\n                backdrop=\"static\"\r\n                keyboard={false}\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Добавить ответ</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n                            <Form.Label>Сообщение отправлено, ответ придет вам на email</Form.Label>\r\n                        </Form.Group>\r\n                        <Button variant=\"primary\" onClick={handleClose} style={{backgroundColor:'#04ddb2',border:\"none\"}}>Ок</Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n\r\n            <h1 style={{color:'#333333',fontWeight:\"bold\",fontSize:60,margin:50,paddingLeft:150,paddingRight:150,textAlign:\"center\",marginTop:100}}>Помощь</h1>\r\n             <Container className={\"d-flex flex-row\"}>\r\n                 <div style={{width:\"20%\",marginLeft:50,marginTop:50}}>\r\n                     {help.store.map(helpItem=>\r\n                         <div key={helpItem.id}>\r\n                             {id==helpItem.id?\r\n                                 <div onClick={()=> history.push(\"/help/\"+helpItem.id)} className={\"p-2 mb-3\"}  style={{backgroundColor:\"#3be0b5\",fontWeight:\"bold\",color:\"white\",borderRadius:15,cursor:\"pointer\"}}>\r\n                                     <span style={{paddingLeft:15,marginRight:15,whiteSpace:\"nowrap\"}}>{helpItem.attributes.title}</span>\r\n                                 </div>:\r\n                                 <div onClick={()=> history.push(\"/help/\"+helpItem.id)} className={\"p-2 mb-3\"} style={{fontWeight:\"bold\",borderRadius:15,cursor:\"pointer\",width:1000}}>\r\n                                     <span style={{paddingLeft:15,whiteSpace:\"nowrap\"}}>{helpItem.attributes.title}</span>\r\n                                 </div>\r\n                             }\r\n                         </div>\r\n                     )}\r\n                 </div>\r\n                 <div style={{marginTop:70,marginLeft:50}}>\r\n                     <h2>{help.store[id-1].attributes.title}</h2>\r\n                     {help.store[id-1].attributes.description}\r\n                 </div>\r\n             </Container>\r\n\r\n            {user.isAuth ?\r\n            <Container>\r\n                <h1 style={{color:'#333333',fontWeight:\"bold\",fontSize:60,margin:50,paddingLeft:150,paddingRight:150,textAlign:\"center\",marginTop:100}}>Обратная связь</h1>\r\n                <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n                    <Form.Label>Введите ваше сообщение:</Form.Label>\r\n                    <Form.Control as=\"textarea\" onChange={e => onChangeText(e.target.value)} rows={8} />\r\n\r\n                    {textValidation == '' ?\r\n                        <></>\r\n                        :\r\n                        <div style={{visibility: \"visible\", color: \"red\"}}>{textValidation}</div>\r\n                    }\r\n\r\n                    <Button variant={\"success\"} style={{borderRadius: 30,backgroundColor:'#04ddb2',border:\"none\",fontWeight:\"bold\",fontSize:20}} className=\"mt-5 p-3\" onClick={SendComment}>Отправить сообщение</Button>\r\n                </Form.Group>\r\n            </Container>:\r\n                <div></div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Help;"]},"metadata":{},"sourceType":"module"}